init python:
    charisma_questions = [
        {
            "text": "Ты часто бросаешь такие взгляды? Или мне стоит почувствовать себя особенной?",
            "answers": [
                {"text": "Особенной? Нет... Ты вне всех категорий.", "correct": True},
                {"text": "Я смотрю так только на тех, кто заслуживает большего.", "correct": False},
                {"text": "А ты хочешь быть единственной?", "correct": False}
            ]
        },
        {
            "text": "Какой комплимент мне действительно запомнится?",
            "answers": [
                {"text": "Тот, который прозвучит искренне, а не ради эффекта.", "correct": True},
                {"text": "Тот, который никто никогда тебе не говорил.", "correct": False},
                {"text": "Тот, который ты сама хочешь услышать.", "correct": False}
            ]
        },
        {
            "text": "Представь, что ты можешь сказать мне только одно слово. Какое оно будет?",
            "answers": [
                {"text": "Останься.", "correct": True},
                {"text": "Тайна.", "correct": False},
                {"text": "Желание.", "correct": False}
            ]
        },
        {
            "text": "Как ты понимаешь, что по-настоящему нравишься женщине?",
            "answers": [
                {"text": "Когда она начинает хотеть нравиться мне.", "correct": True},
                {"text": "Когда она не боится показать ревность.", "correct": False},
                {"text": "Когда она даёт мне полную свободу.", "correct": False}
            ]
        },
        {
            "text": "Ты согласен с тем, что любовь — это битва, где один всегда проигрывает?",
            "answers": [
                {"text": "Нет, любовь — это союз, а не война.", "correct": True},
                {"text": "Да, но лучший воин знает, когда стоит сдаться.", "correct": False},
                {"text": "В любви побеждает тот, кто меньше любит.", "correct": False}
            ]
        },
        {
            "text": "Какой самый большой риск в отношениях?",
            "answers": [
                {"text": "Поверить в иллюзию, а не в человека.", "correct": True},
                {"text": "Открыться, зная, что можешь быть отвергнут.", "correct": False},
                {"text": "Потерять себя, пытаясь угодить другому.", "correct": False}
            ]
        },
        {
            "text": "Что важнее — запомниться или быть понятным?",
            "answers": [
                {"text": "Быть понятным. Только тогда ты останешься в чьей-то памяти.", "correct": True},
                {"text": "Запомниться. Память важнее смысла.", "correct": False},
                {"text": "И то, и другое. Без смысла тебя забудут, без эмоций — не воспримут.", "correct": False}
            ]
        },
        {
            "text": "Что делает слова по-настоящему убедительными?",
            "answers": [
                {"text": "Когда они соответствуют поступкам.", "correct": True},
                {"text": "Когда в них есть страсть и огонь.", "correct": False},
                {"text": "Когда они звучат таинственно.", "correct": False}
            ]
        },
        {
            "text": "Что сложнее: соблазнить или удержать?",
            "answers": [
                {"text": "Удержать. Желание мимолётно, а привязанность требует усилий.", "correct": True},
                {"text": "Соблазнить. Искры не всегда разгораются в пламя.", "correct": False},
                {"text": "Оба варианта одинаково сложны, но лишь если играешь по правилам.", "correct": False}
            ]
        },
        {
            "text": "Как ты относишься к тем, кто играет в любовь?",
            "answers": [
                {"text": "Тот, кто играет, боится настоящих чувств.", "correct": True},
                {"text": "Если это красиво, почему бы и нет?", "correct": False},
                {"text": "Игра — это часть охоты, а охота — суть соблазна.", "correct": False}
            ]
        },
        {
            "text": "Если бы я попросила тебя назвать самое соблазнительное качество, что бы ты выбрал?",
            "answers": [
                {"text": "Уверенность в сочетании с лёгким вызовом.", "correct": True},
                {"text": "Красота, конечно.", "correct": False},
                {"text": "Тайна, которую хочется разгадать.", "correct": False}
            ]
        },
        {
            "text": "Какая фраза лучше всего описывает идеальную встречу?",
            "answers": [
                {"text": "Когда уходя, ты не знаешь, кто из вас кого соблазнил.", "correct": True},
                {"text": "Когда она заканчивается позже, чем вы оба планировали.", "correct": False},
                {"text": "Когда после неё хочется написать первым.", "correct": False}
            ]
        },
        {
            "text": "Ты веришь в любовь с первого взгляда?",
            "answers": [
                {"text": "Я верю в интерес с первого взгляда. А любовь — это выбор.", "correct": True},
                {"text": "Конечно, если она достаточно сильная.", "correct": False},
                {"text": "Да, если это взгляд в глаза, а не в декольте.", "correct": False}
            ]
        },
        {
            "text": "Какая эмоция заставляет нас влюбляться?",
            "answers": [
                {"text": "Неуверенность. Волнение перед неизвестностью делает чувства ярче.", "correct": True},
                {"text": "Комфорт. Когда с человеком легко, любовь неизбежна.", "correct": False},
                {"text": "Страсть. Если её нет, то и влюблённость невозможна.", "correct": False}
            ]
        },
        {
            "text": "Какой момент важнее — первый поцелуй или первое 'Я люблю тебя'?",
            "answers": [
                {"text": "Первый поцелуй. Он говорит больше, чем слова.", "correct": True},
                {"text": "Первое признание. Оно создаёт связь между душами.", "correct": False},
                {"text": "Ни один из них, если они были без искренности.", "correct": False}
            ]
        }
    ]



define last_charisma_training_win = False

label start_charisma_training(character, your_charisma):
    $ import random
    $ selected_questions = random.sample(charisma_questions, 3)
    $ score = 0
    $ win_score = 3  # Количество правильных ответов для победы

    # Проходимся по каждому вопросу
    python:
        for question in selected_questions:
            renpy.say(character, question["text"])  # Выводим текст вопроса

            # Создаём меню для ответов
            choices = []
            for answer in question["answers"]:
                choices.append((answer["text"], answer["correct"]))  # Теперь передаём кортежи

            # Ожидание ответа игрока
            result = renpy.display_menu(choices)

            # Проверяем, был ли ответ правильным
            if result:
                score += 1

    if score >= win_score:
        $ last_charisma_training_win = True

    call end_charisma_training(character)
    return


label end_charisma_training(character):
    if score >= win_score:
        $ last_charisma_training_win = True
        "Ты ответил правильно на все вопросы!"
    else:
        $ last_charisma_training_win = False
        "Похоже, тебе ещё стоит потренироваться..."

    return
